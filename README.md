# trakt-to-letterboxd

[![CircleCI](https://circleci.com/gh/bbeesley/trakt-to-letterboxd/tree/master.svg?style=svg)](https://circleci.com/gh/bbeesley/trakt-to-letterboxd/tree/master) [![codecov](https://codecov.io/gh/bbeesley/trakt-to-letterboxd/branch/master/graph/badge.svg)](https://codecov.io/gh/bbeesley/trakt-to-letterboxd) [![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)

## Description

A package to migrate your trakt movie history to letterboxd. Currently letterboxd only supports importing from a csv, so thats all this package does at the moment. When a proper API is added, I'll update this to push the data right into your letterboxd history.

## Usage

The easiest way to use this currently is with npx. You can install that globally with `yarn global add npx` or `npm i -g npx`. Once you have that, just run:

```sh
npx trakt-to-letterboxd -u username -f filename
```

where username is the user whose data you want to export, and filename is the name of the csv file you want to output to.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [traktHistoryToCsv](#trakthistorytocsv)
    -   [Parameters](#parameters)
-   [traktWatchlistToCsv](#traktwatchlisttocsv)
    -   [Parameters](#parameters-1)
-   [headers](#headers)
-   [options](#options)
-   [fetchMovies](#fetchmovies)
    -   [Parameters](#parameters-2)
-   [fetchWatchlist](#fetchwatchlist)
    -   [Parameters](#parameters-3)
-   [schema](#schema)
-   [builder](#builder)

### traktHistoryToCsv

[src/main/index.js:18-27](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/index.js#L18-L27 "Source code on GitHub")

Export a trakt user's history to csv to be uploaded to letterboxd

#### Parameters

-   `props` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Properties passed from argv
    -   `props.userName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The user whose data you want to export
    -   `props.fileName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the file to output to

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** We dont return anything

### traktWatchlistToCsv

[src/main/index.js:38-47](https://github.com/frm/trakt-to-letterboxd/blob/b1e1a6d7b028153d837ab522721a083bc5158a5f/src/main/index.js#L38-L47 "Source code on GitHub")

Export a trakt user's watchlist to csv to be uploaded to letterboxd

#### Parameters

-   `props` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Properties passed from argv
    -   `props.userName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The user whose data you want to export
    -   `props.fileName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the file to output to

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** We dont return anything

### headers

[src/main/fetcher.js:9-13](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/fetcher.js#L9-L13 "Source code on GitHub")

HTTP headers to send with our request to trakt's api

### options

[src/main/fetcher.js:18-20](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/fetcher.js#L18-L20 "Source code on GitHub")

The fetch options object (only really needs headers)

### fetchMovies

[src/main/fetcher.js:27-38](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/fetcher.js#L27-L38 "Source code on GitHub")

Fetches the user's history data from the trakt api

#### Parameters

-   `user` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The username we're getting data for

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;TraktMovieHistoryType>** Promise that resolves to trakt history array

### fetchWatchlist

[src/main/fetcher.js:48-59](https://github.com/frm/trakt-to-letterboxd/blob/b1e1a6d7b028153d837ab522721a083bc5158a5f/src/main/fetcher.js#L48-L59 "Source code on GitHub")

Fetches the user's watchlist data from the trakt api

#### Parameters

-   `user` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The username we're getting data for

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;TraktMovieWatchlistType>** Promise that resolves to trakt watchlist array

### schema

[src/main/exporter.js:8-28](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/exporter.js#L8-L28 "Source code on GitHub")

Schema for the output csv.
Based on <https://letterboxd.com/about/importing-data/>

### builder

[src/main/exporter.js:35-36](https://github.com/bbeesley/trakt-to-letterboxd/blob/dde7f14eea2497c1a4a17de702dc475dccb859b0/src/main/exporter.js#L35-L36 "Source code on GitHub")

The instance of CsvBuilder we'll use to export the data.
We need to remap the format of the last watched date to YYYY-MM-DD
to comply with letterboxd's formatting
